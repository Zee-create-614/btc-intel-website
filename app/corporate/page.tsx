import { getTreasuryHoldings } from '../lib/data'\nimport { Building, TrendingUp, DollarSign, Users } from 'lucide-react'\n\nexport default async function CorporatePage() {\n  const holdings = await getTreasuryHoldings()\n  const corporateHoldings = holdings.filter(h => h.entity_type === 'company')\n  const etfHoldings = holdings.filter(h => h.entity_type === 'etf')\n  \n  // Sort by BTC holdings\n  const sortedCorporate = corporateHoldings.sort((a, b) => b.btc_holdings - a.btc_holdings)\n  const sortedETFs = etfHoldings.sort((a, b) => b.btc_holdings - a.btc_holdings)\n  \n  const totalCorporateBTC = corporateHoldings.reduce((sum, h) => sum + h.btc_holdings, 0)\n  const totalETFBTC = etfHoldings.reduce((sum, h) => sum + h.btc_holdings, 0)\n  const grandTotal = totalCorporateBTC + totalETFBTC\n  \n  // Current BTC price estimate\n  const btcPrice = 68500 // Approximate\n  \n  const formatCurrency = (value: number) => {\n    if (value >= 1e9) return `$${(value / 1e9).toFixed(1)}B`\n    if (value >= 1e6) return `$${(value / 1e6).toFixed(1)}M`\n    if (value >= 1e3) return `$${(value / 1e3).toFixed(0)}K`\n    return `$${value.toFixed(0)}`\n  }\n  \n  const formatNumber = (num: number) => num.toLocaleString()\n  \n  return (\n    <div className=\"min-h-screen bg-bitcoin-950 text-orange-50 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold mb-4 flex items-center justify-center\">\n            <Building className=\"h-8 w-8 mr-3 text-bitcoin-500\" />\n            Corporate Bitcoin Ownership\n          </h1>\n          <p className=\"text-xl text-orange-200\">\n            Complete breakdown of institutional Bitcoin adoption by companies and ETFs\n          </p>\n        </div>\n        \n        {/* Summary Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-bitcoin-900/40 border border-bitcoin-600/30 rounded-xl p-6\">\n            <div className=\"flex items-center mb-3\">\n              <Building className=\"h-5 w-5 mr-2 text-bitcoin-500\" />\n              <span className=\"font-semibold\">Corporate Holdings</span>\n            </div>\n            <div className=\"text-3xl font-bold text-bitcoin-500\">\n              {formatNumber(totalCorporateBTC)}\n            </div>\n            <div className=\"text-sm opacity-70\">\n              {formatCurrency(totalCorporateBTC * btcPrice)}\n            </div>\n          </div>\n          \n          <div className=\"bg-bitcoin-900/40 border border-bitcoin-600/30 rounded-xl p-6\">\n            <div className=\"flex items-center mb-3\">\n              <TrendingUp className=\"h-5 w-5 mr-2 text-blue-400\" />\n              <span className=\"font-semibold\">ETF Holdings</span>\n            </div>\n            <div className=\"text-3xl font-bold text-blue-400\">\n              {formatNumber(totalETFBTC)}\n            </div>\n            <div className=\"text-sm opacity-70\">\n              {formatCurrency(totalETFBTC * btcPrice)}\n            </div>\n          </div>\n          \n          <div className=\"bg-bitcoin-900/40 border border-bitcoin-600/30 rounded-xl p-6\">\n            <div className=\"flex items-center mb-3\">\n              <DollarSign className=\"h-5 w-5 mr-2 text-green-400\" />\n              <span className=\"font-semibold\">Total Institutional</span>\n            </div>\n            <div className=\"text-3xl font-bold text-green-400\">\n              {formatNumber(grandTotal)}\n            </div>\n            <div className=\"text-sm opacity-70\">\n              {formatCurrency(grandTotal * btcPrice)}\n            </div>\n          </div>\n          \n          <div className=\"bg-bitcoin-900/40 border border-bitcoin-600/30 rounded-xl p-6\">\n            <div className=\"flex items-center mb-3\">\n              <Users className=\"h-5 w-5 mr-2 text-purple-400\" />\n              <span className=\"font-semibold\">Market Share</span>\n            </div>\n            <div className=\"text-3xl font-bold text-purple-400\">\n              {((grandTotal / 21000000) * 100).toFixed(1)}%\n            </div>\n            <div className=\"text-sm opacity-70\">\n              Of total BTC supply\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* Corporate Holdings */}\n          <div className=\"bg-bitcoin-900/40 border border-bitcoin-600/30 rounded-xl p-6\">\n            <h2 className=\"text-2xl font-bold mb-6 text-bitcoin-500 flex items-center\">\n              <Building className=\"h-6 w-6 mr-2\" />\n              Corporate Holdings ({sortedCorporate.length})\n            </h2>\n            \n            <div className=\"space-y-4\">\n              {sortedCorporate.map((company, index) => {\n                const marketShare = (company.btc_holdings / grandTotal) * 100\n                const value = company.btc_holdings * btcPrice\n                \n                return (\n                  <div key={company.id} className=\"flex items-center justify-between p-4 bg-bitcoin-800/30 rounded-lg border border-bitcoin-700/30\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3\">\n                        <span className=\"text-2xl font-bold text-bitcoin-500\">#{index + 1}</span>\n                        <div>\n                          <h3 className=\"font-bold text-lg text-orange-50\">{company.entity_name}</h3>\n                          <p className=\"text-sm text-orange-200\">\n                            {company.additional_info?.ticker && `(${company.additional_info.ticker})`}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"text-right\">\n                      <div className=\"text-2xl font-bold text-bitcoin-500\">\n                        {formatNumber(company.btc_holdings)}\n                      </div>\n                      <div className=\"text-sm text-orange-200\">\n                        {formatCurrency(value)}\n                      </div>\n                      <div className=\"text-xs text-orange-300\">\n                        {marketShare.toFixed(2)}% of total\n                      </div>\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n            \n            <div className=\"mt-6 p-4 bg-bitcoin-800/50 rounded-lg border border-bitcoin-700/30\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"font-bold\">Corporate Total:</span>\n                <div className=\"text-right\">\n                  <div className=\"font-bold text-bitcoin-500\">{formatNumber(totalCorporateBTC)} BTC</div>\n                  <div className=\"text-sm text-orange-200\">{formatCurrency(totalCorporateBTC * btcPrice)}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* ETF Holdings */}\n          <div className=\"bg-bitcoin-900/40 border border-bitcoin-600/30 rounded-xl p-6\">\n            <h2 className=\"text-2xl font-bold mb-6 text-blue-400 flex items-center\">\n              <TrendingUp className=\"h-6 w-6 mr-2\" />\n              ETF Holdings ({sortedETFs.length})\n            </h2>\n            \n            <div className=\"space-y-4\">\n              {sortedETFs.map((etf, index) => {\n                const marketShare = (etf.btc_holdings / grandTotal) * 100\n                const value = etf.btc_holdings * btcPrice\n                \n                return (\n                  <div key={etf.id} className=\"flex items-center justify-between p-4 bg-blue-900/20 rounded-lg border border-blue-700/30\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3\">\n                        <span className=\"text-2xl font-bold text-blue-400\">#{index + 1}</span>\n                        <div>\n                          <h3 className=\"font-bold text-lg text-blue-50\">{etf.entity_name}</h3>\n                          <p className=\"text-sm text-blue-200\">\n                            {etf.additional_info?.ticker && `(${etf.additional_info.ticker})`}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"text-right\">\n                      <div className=\"text-2xl font-bold text-blue-400\">\n                        {formatNumber(etf.btc_holdings)}\n                      </div>\n                      <div className=\"text-sm text-blue-200\">\n                        {formatCurrency(value)}\n                      </div>\n                      <div className=\"text-xs text-blue-300\">\n                        {marketShare.toFixed(2)}% of total\n                      </div>\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n            \n            <div className=\"mt-6 p-4 bg-blue-800/30 rounded-lg border border-blue-700/30\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"font-bold\">ETF Total:</span>\n                <div className=\"text-right\">\n                  <div className=\"font-bold text-blue-400\">{formatNumber(totalETFBTC)} BTC</div>\n                  <div className=\"text-sm text-blue-200\">{formatCurrency(totalETFBTC * btcPrice)}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Market Analysis */}\n        <div className=\"mt-8 bg-bitcoin-900/40 border border-bitcoin-600/30 rounded-xl p-6\">\n          <h2 className=\"text-2xl font-bold mb-6 text-green-400\">Market Analysis</h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div className=\"text-center\">\n              <h3 className=\"font-semibold mb-2 text-bitcoin-500\">Corporate Dominance</h3>\n              <p className=\"text-3xl font-bold text-bitcoin-500\">\n                {((totalCorporateBTC / grandTotal) * 100).toFixed(1)}%\n              </p>\n              <p className=\"text-sm text-orange-200 mt-2\">\n                MicroStrategy leads institutional adoption\n              </p>\n            </div>\n            \n            <div className=\"text-center\">\n              <h3 className=\"font-semibold mb-2 text-blue-400\">ETF Dominance</h3>\n              <p className=\"text-3xl font-bold text-blue-400\">\n                {((totalETFBTC / grandTotal) * 100).toFixed(1)}%\n              </p>\n              <p className=\"text-sm text-blue-200 mt-2\">\n                BlackRock IBIT leads ETF adoption\n              </p>\n            </div>\n            \n            <div className=\"text-center\">\n              <h3 className=\"font-semibold mb-2 text-green-400\">Supply Impact</h3>\n              <p className=\"text-3xl font-bold text-green-400\">\n                {((grandTotal / 21000000) * 100).toFixed(2)}%\n              </p>\n              <p className=\"text-sm text-green-200 mt-2\">\n                Of total Bitcoin ever created\n              </p>\n            </div>\n          </div>\n          \n          <div className=\"mt-6 p-4 bg-orange-500/10 border border-orange-500/30 rounded-lg\">\n            <h4 className=\"font-bold text-orange-400 mb-2\">üîç Key Insights:</h4>\n            <ul className=\"text-sm text-orange-200 space-y-1\">\n              <li>‚Ä¢ Institutional ownership represents {((grandTotal / 21000000) * 100).toFixed(1)}% of all Bitcoin</li>\n              <li>‚Ä¢ ETFs hold {((totalETFBTC / 21000000) * 100).toFixed(1)}% of total supply, making them largest holder category</li>\n              <li>‚Ä¢ MicroStrategy pioneered corporate Bitcoin strategy, leading to widespread adoption</li>\n              <li>‚Ä¢ Combined institutional value: {formatCurrency(grandTotal * btcPrice)}</li>\n              <li>‚Ä¢ This represents unprecedented institutional Bitcoin allocation in traditional finance</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}"